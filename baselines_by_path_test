/**** Start of imports. If edited, may not auto-convert in the playground. ****/
var imageCollection = ee.ImageCollection("projects/sites-project/baselines_v5-3_by_path");
/***** End of imports. If edited, may not auto-convert in the playground. *****/

var path_min = 11;
var path_max = 14;

for(var path = path_min; path <= path_max; path++){
  var baseline_prev = imageCollection.filterMetadata('WRS_PATH', 'equals', path-1).first()
  baseline_prev = baseline_prev.updateMask(baseline_prev.select('nobs').divide(10000).gte(100))
  
  var baseline = imageCollection.filterMetadata('WRS_PATH', 'equals', path).first()
  baseline = baseline.updateMask(baseline.select('nobs').divide(10000).gte(100))
  
  Map.addLayer(baseline.select('nobs').divide(10000), {min:0, max:200}, 'Path ' + path)
  
  if (path > path_min){
    var diff_name = 'Path ' + path + '_minus_prev'
    var diff = baseline.subtract(baseline_prev).divide(10000)
    Map.addLayer(diff.select(['constant','nobs', 'rmse']), {min:-0.01, max:0.01}, diff_name)

  }
}
  

// var p12p13 = p12.subtract(p13)

print(imageCollection.first().projection())

// Map.addLayer(p12p13.divide(10000).select(['constant','nobs', 'rmse']), {min:-0.01, max:0.01 })

var style = {
  'Figure': [{
      featureType: 'all',
      stylers: [{ color: '#000000'}]
  }]
};

// Set map options.
Map.setOptions(null, style);
Map.setOptions('SATELLITE')

